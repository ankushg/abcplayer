<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_40) on Thu Oct 31 00:32:07 EDT 2013 -->
<title>grammar</title>
<meta name="date" content="2013-10-31">
<link rel="stylesheet" type="text/css" href="../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="grammar";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../overview-summary.html">Overview</a></li>
<li class="navBarCell1Rev">Package</li>
<li>Class</li>
<li><a href="package-use.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../index-files/index-1.html">Index</a></li>
<li><a href="../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev Package</li>
<li><a href="../music/package-summary.html">Next Package</a></li>
</ul>
<ul class="navList">
<li><a href="../index.html?grammar/package-summary.html" target="_top">Frames</a></li>
<li><a href="package-summary.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<div class="header">
<h1 title="Package" class="title">Package&nbsp;grammar</h1>
<div class="docSummary">
<div class="block">Package containing all of our grammar files.</div>
</div>
<p>See:&nbsp;<a href="#package_description">Description</a></p>
</div>
<div class="contentContainer">
<ul class="blockList">
<li class="blockList">
<table class="packageSummary" border="0" cellpadding="3" cellspacing="0" summary="Interface Summary table, listing interfaces, and an explanation">
<caption><span>Interface Summary</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Interface</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tbody>
<tr class="altColor">
<td class="colFirst"><a href="../grammar/ABCMusicListener.html" title="interface in grammar">ABCMusicListener</a></td>
<td class="colLast">&nbsp;</td>
</tr>
</tbody>
</table>
</li>
<li class="blockList">
<table class="packageSummary" border="0" cellpadding="3" cellspacing="0" summary="Class Summary table, listing classes, and an explanation">
<caption><span>Class Summary</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Class</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tbody>
<tr class="altColor">
<td class="colFirst"><a href="../grammar/ABCMusicBaseListener.html" title="class in grammar">ABCMusicBaseListener</a></td>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../grammar/ABCMusicLexer.html" title="class in grammar">ABCMusicLexer</a></td>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../grammar/ABCMusicLexer.ExceptionThrowingErrorListener.html" title="class in grammar">ABCMusicLexer.ExceptionThrowingErrorListener</a></td>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../grammar/ABCMusicParser.html" title="class in grammar">ABCMusicParser</a></td>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../grammar/ABCMusicParser.Abc_headerContext.html" title="class in grammar">ABCMusicParser.Abc_headerContext</a></td>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../grammar/ABCMusicParser.Abc_musicContext.html" title="class in grammar">ABCMusicParser.Abc_musicContext</a></td>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../grammar/ABCMusicParser.Abc_tuneContext.html" title="class in grammar">ABCMusicParser.Abc_tuneContext</a></td>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../grammar/ABCMusicParser.AccidentalContext.html" title="class in grammar">ABCMusicParser.AccidentalContext</a></td>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../grammar/ABCMusicParser.Bar_lineContext.html" title="class in grammar">ABCMusicParser.Bar_lineContext</a></td>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../grammar/ABCMusicParser.ChordContext.html" title="class in grammar">ABCMusicParser.ChordContext</a></td>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../grammar/ABCMusicParser.CommentContext.html" title="class in grammar">ABCMusicParser.CommentContext</a></td>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../grammar/ABCMusicParser.DupletContext.html" title="class in grammar">ABCMusicParser.DupletContext</a></td>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../grammar/ABCMusicParser.EolContext.html" title="class in grammar">ABCMusicParser.EolContext</a></td>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../grammar/ABCMusicParser.ExceptionThrowingErrorListener.html" title="class in grammar">ABCMusicParser.ExceptionThrowingErrorListener</a></td>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../grammar/ABCMusicParser.Field_composerContext.html" title="class in grammar">ABCMusicParser.Field_composerContext</a></td>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../grammar/ABCMusicParser.Field_default_lengthContext.html" title="class in grammar">ABCMusicParser.Field_default_lengthContext</a></td>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../grammar/ABCMusicParser.Field_keyContext.html" title="class in grammar">ABCMusicParser.Field_keyContext</a></td>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../grammar/ABCMusicParser.Field_meterContext.html" title="class in grammar">ABCMusicParser.Field_meterContext</a></td>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../grammar/ABCMusicParser.Field_optionalContext.html" title="class in grammar">ABCMusicParser.Field_optionalContext</a></td>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../grammar/ABCMusicParser.Field_tempoContext.html" title="class in grammar">ABCMusicParser.Field_tempoContext</a></td>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../grammar/ABCMusicParser.Field_titleContext.html" title="class in grammar">ABCMusicParser.Field_titleContext</a></td>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../grammar/ABCMusicParser.Field_track_numberContext.html" title="class in grammar">ABCMusicParser.Field_track_numberContext</a></td>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../grammar/ABCMusicParser.Field_voiceContext.html" title="class in grammar">ABCMusicParser.Field_voiceContext</a></td>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../grammar/ABCMusicParser.FractionContext.html" title="class in grammar">ABCMusicParser.FractionContext</a></td>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../grammar/ABCMusicParser.Key_signatureContext.html" title="class in grammar">ABCMusicParser.Key_signatureContext</a></td>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../grammar/ABCMusicParser.Lyric_barlineContext.html" title="class in grammar">ABCMusicParser.Lyric_barlineContext</a></td>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../grammar/ABCMusicParser.LyricContext.html" title="class in grammar">ABCMusicParser.LyricContext</a></td>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../grammar/ABCMusicParser.NoteContext.html" title="class in grammar">ABCMusicParser.NoteContext</a></td>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../grammar/ABCMusicParser.PitchContext.html" title="class in grammar">ABCMusicParser.PitchContext</a></td>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../grammar/ABCMusicParser.QuadrupletContext.html" title="class in grammar">ABCMusicParser.QuadrupletContext</a></td>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../grammar/ABCMusicParser.StringContext.html" title="class in grammar">ABCMusicParser.StringContext</a></td>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../grammar/ABCMusicParser.SyllableContext.html" title="class in grammar">ABCMusicParser.SyllableContext</a></td>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../grammar/ABCMusicParser.TempoContext.html" title="class in grammar">ABCMusicParser.TempoContext</a></td>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../grammar/ABCMusicParser.TripletContext.html" title="class in grammar">ABCMusicParser.TripletContext</a></td>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../grammar/ABCMusicParser.TuneContext.html" title="class in grammar">ABCMusicParser.TuneContext</a></td>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../grammar/ABCMusicParser.TupletContext.html" title="class in grammar">ABCMusicParser.TupletContext</a></td>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../grammar/ABCMusicParser.VoiceContext.html" title="class in grammar">ABCMusicParser.VoiceContext</a></td>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../grammar/LexerTest.html" title="class in grammar">LexerTest</a></td>
<td class="colLast">
<div class="block">This suite tests a variety of single tokens (split into rough batches) to
 check that they aren't split up, and then checks that they are lexed as the
 correct token type.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../grammar/Listener.html" title="class in grammar">Listener</a></td>
<td class="colLast">&nbsp;</td>
</tr>
</tbody>
</table>
</li>
<li class="blockList">
<table class="packageSummary" border="0" cellpadding="3" cellspacing="0" summary="Enum Summary table, listing enums, and an explanation">
<caption><span>Enum Summary</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Enum</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tbody>
<tr class="altColor">
<td class="colFirst"><a href="../grammar/BarLine.html" title="enum in grammar">BarLine</a></td>
<td class="colLast">&nbsp;</td>
</tr>
</tbody>
</table>
</li>
</ul>
<a name="package_description">
<!--   -->
</a>
<h2 title="Package grammar Description">Package grammar Description</h2>
<div class="block">Package containing all of our grammar files.
<br><br>
 To create Expresion.g4, we split the given BNF grammar into the
 fundamental basic terminals (the tokens for the lexer) and the tree
 structures constructed by them (the parser). We defined tokens that
 weren't in the BNF grammar like DIGIT and INTEGER created catch-all
 tokens to allow for special characters in strings.
<br><br>
 We output all errors to the console, but attempt to continue playing
 music wherever possible. This ranges from ignoring excess whitespace
 where possible to allowing measures that don't comply with the meter.
 We are lenient about which characters may be in strings, and about
 excess consecutive whitespace.
<br><br>
 AST Structure is as follows:<br><br>
 <ul>
    <li>
       abc_music
       <ul>
          <li>
             abc_header
             <ul>
                <li> field_track_number</li>
                <li> field_title</li>
                <li>
                   field_optional
                   <ul>
                      <li>
                         field_default_length
                         <ul>
                            <li> fraction</li>
                         </ul>
                      </li>
                      <li>
                         field_tempo
                         <ul>
                            <li> tempo</li>
                         </ul>
                      </li>
                      <li>
                         field_key
                         <ul>
                            <li> key_signature</li>
                         </ul>
                      </li>
                   </ul>
                </li>
             </ul>
          </li>
          <li>
             abc_tune
             <ul>
                <li>
                   voice
                   <ul>
                      <li>
                         tune*
                         <ul>
                            <li>
                               chord*
                               <ul>
                                  <li>
                                     note*
                                     <ul>
                                        <li>
                                           pitch or REST
                                           <ul>
                                              <li> accidental</li>
                                           </ul>
                                        </li>
                                        <li> fraction</li>
                                     </ul>
                                  </li>
                               </ul>
                            </li>
                            <li>
                               tuplet*
                               <ul>
                                  <li>
                                     chord*
                                     <ul>
                                        <li>
                                           pitch or REST
                                           <ul>
                                              <li> accidental</li>
                                           </ul>
                                        </li>
                                        <li> fraction</li>
                                     </ul>
                                  </li>
                               </ul>
                            </li>
                         </ul>
                      </li>
                      <li> eol*</li>
                      <li>
                         lyric
                         <ul>
                            <li> syllable*</li>
                         </ul>
                      </li>
                      <li> eol*</li>
                   </ul>
                </li>
             </ul>
          </li>
       </ul>
    </li>
 </ul>


<br><br>
 To create the AST, we'll pass the input file into the generated ABCMusicLexer
 through an ANTLRFileStream. We'll then generate the ParseTree creating a
 TokenStream from the lexer and passing that into an instance of ABCMusicParser,
 creating an AST.
<br><br>
 Once we have an AST, we'll create a custom ParseTreeListener which will
 crawl through the tree, generating Notes (and their Pitches and
 Durations), Chords (and their List of Notes), Measures (where we combine
 Syllables and Chords), Repeats (which contain other ChordSequences) and
 Voices as it exits the various nodes of the tree. We'll then wrap it in a
 Song to combine the header metadata and the Voices.<br><br>

 After having the Listener class walk through the AST in Main.java,
 Listener.getSong().getPlayer() method will be used to create a
 SequencePlayer with all the notes and lyrics appropriately added to it.</div>
</div>
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../overview-summary.html">Overview</a></li>
<li class="navBarCell1Rev">Package</li>
<li>Class</li>
<li><a href="package-use.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../index-files/index-1.html">Index</a></li>
<li><a href="../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev Package</li>
<li><a href="../music/package-summary.html">Next Package</a></li>
</ul>
<ul class="navList">
<li><a href="../index.html?grammar/package-summary.html" target="_top">Frames</a></li>
<li><a href="package-summary.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
